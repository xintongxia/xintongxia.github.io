"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _layers = require("@deck.gl/layers");

var _modeHandler = require("../mode-handlers/mode-handler.js");

var _viewHandler = require("../mode-handlers/view-handler.js");

var _modifyHandler = require("../mode-handlers/modify-handler.js");

var _elevationHandler = require("../mode-handlers/elevation-handler.js");

var _snappableHandler = require("../mode-handlers/snappable-handler.js");

var _translateHandler = require("../mode-handlers/translate-handler.js");

var _duplicateHandler = require("../mode-handlers/duplicate-handler");

var _rotateHandler = require("../mode-handlers/rotate-handler.js");

var _scaleHandler = require("../mode-handlers/scale-handler.js");

var _drawPointHandler = require("../mode-handlers/draw-point-handler.js");

var _drawLineStringHandler = require("../mode-handlers/draw-line-string-handler.js");

var _drawPolygonHandler = require("../mode-handlers/draw-polygon-handler.js");

var _draw90degreePolygonHandler = require("../mode-handlers/draw-90degree-polygon-handler.js");

var _drawRectangleHandler = require("../mode-handlers/draw-rectangle-handler.js");

var _splitPolygonHandler = require("../mode-handlers/split-polygon-handler.js");

var _drawRectangleUsingThreePointsHandler = require("../mode-handlers/draw-rectangle-using-three-points-handler.js");

var _drawCircleFromCenterHandler = require("../mode-handlers/draw-circle-from-center-handler.js");

var _drawCircleByBoundingBoxHandler = require("../mode-handlers/draw-circle-by-bounding-box-handler.js");

var _drawEllipseByBoundingBoxHandler = require("../mode-handlers/draw-ellipse-by-bounding-box-handler.js");

var _drawEllipseUsingThreePointsHandler = require("../mode-handlers/draw-ellipse-using-three-points-handler.js");

var _extrudeHandler = require("../mode-handlers/extrude-handler.js");

var _editableLayer = _interopRequireDefault(require("./editable-layer.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

var DEFAULT_LINE_COLOR = [0x0, 0x0, 0x0, 0xff];
var DEFAULT_FILL_COLOR = [0x0, 0x0, 0x0, 0x90];
var DEFAULT_SELECTED_LINE_COLOR = [0x90, 0x90, 0x90, 0xff];
var DEFAULT_SELECTED_FILL_COLOR = [0x90, 0x90, 0x90, 0x90];
var DEFAULT_EDITING_EXISTING_POINT_COLOR = [0xc0, 0x0, 0x0, 0xff];
var DEFAULT_EDITING_INTERMEDIATE_POINT_COLOR = [0x0, 0x0, 0x0, 0x80];
var DEFAULT_EDITING_SNAP_POINT_COLOR = [0x7c, 0x00, 0xc0, 0xff];
var DEFAULT_EDITING_EXISTING_POINT_RADIUS = 5;
var DEFAULT_EDITING_INTERMEDIATE_POINT_RADIUS = 3;
var DEFAULT_EDITING_SNAP_POINT_RADIUS = 7;

function getEditHandleColor(handle) {
  switch (handle.type) {
    case 'existing':
      return DEFAULT_EDITING_EXISTING_POINT_COLOR;

    case 'snap':
      return DEFAULT_EDITING_SNAP_POINT_COLOR;

    case 'intermediate':
    default:
      return DEFAULT_EDITING_INTERMEDIATE_POINT_COLOR;
  }
}

function getEditHandleRadius(handle) {
  switch (handle.type) {
    case 'existing':
      return DEFAULT_EDITING_EXISTING_POINT_RADIUS;

    case 'snap':
      return DEFAULT_EDITING_SNAP_POINT_RADIUS;

    case 'intermediate':
    default:
      return DEFAULT_EDITING_INTERMEDIATE_POINT_RADIUS;
  }
}

var defaultProps = {
  mode: 'modify',
  // Edit and interaction events
  onEdit: function onEdit() {},
  pickable: true,
  fp64: false,
  filled: true,
  stroked: true,
  lineWidthScale: 1,
  lineWidthMinPixels: 1,
  lineWidthMaxPixels: Number.MAX_SAFE_INTEGER,
  lineJointRounded: false,
  lineMiterLimit: 4,
  pointRadiusScale: 1,
  pointRadiusMinPixels: 2,
  pointRadiusMaxPixels: Number.MAX_SAFE_INTEGER,
  lineDashJustified: false,
  getLineColor: function getLineColor(feature, isSelected, mode) {
    return isSelected ? DEFAULT_SELECTED_LINE_COLOR : DEFAULT_LINE_COLOR;
  },
  getFillColor: function getFillColor(feature, isSelected, mode) {
    return isSelected ? DEFAULT_SELECTED_FILL_COLOR : DEFAULT_FILL_COLOR;
  },
  getRadius: function getRadius(f) {
    return f && f.properties && f.properties.radius || f && f.properties && f.properties.size || 1;
  },
  getLineWidth: function getLineWidth(f) {
    return f && f.properties && f.properties.lineWidth || 1;
  },
  getLineDashArray: function getLineDashArray(feature, isSelected, mode) {
    return isSelected && mode !== 'view' ? [7, 4] : [0, 0];
  },
  // Tentative feature rendering
  getTentativeLineDashArray: function getTentativeLineDashArray(f, mode) {
    return [7, 4];
  },
  getTentativeLineColor: function getTentativeLineColor(f, mode) {
    return DEFAULT_SELECTED_LINE_COLOR;
  },
  getTentativeFillColor: function getTentativeFillColor(f, mode) {
    return DEFAULT_SELECTED_FILL_COLOR;
  },
  getTentativeLineWidth: function getTentativeLineWidth(f, mode) {
    return f && f.properties && f.properties.lineWidth || 1;
  },
  editHandleType: 'point',
  editHandleParameters: {},
  editHandleLayerProps: {},
  // point handles
  editHandlePointRadiusScale: 1,
  editHandlePointOutline: false,
  editHandlePointStrokeWidth: 1,
  editHandlePointRadiusMinPixels: 4,
  editHandlePointRadiusMaxPixels: 8,
  getEditHandlePointColor: getEditHandleColor,
  getEditHandlePointRadius: getEditHandleRadius,
  // icon handles
  editHandleIconAtlas: null,
  editHandleIconMapping: null,
  editHandleIconSizeScale: 1,
  getEditHandleIcon: function getEditHandleIcon(handle) {
    return handle.type;
  },
  getEditHandleIconSize: 10,
  getEditHandleIconColor: getEditHandleColor,
  getEditHandleIconAngle: 0,
  // Mode handlers
  modeHandlers: {
    view: new _viewHandler.ViewHandler(),
    modify: new _modifyHandler.ModifyHandler(),
    elevation: new _elevationHandler.ElevationHandler(),
    extrude: new _extrudeHandler.ExtrudeHandler(),
    rotate: new _rotateHandler.RotateHandler(),
    translate: new _snappableHandler.SnappableHandler(new _translateHandler.TranslateHandler()),
    duplicate: new _duplicateHandler.DuplicateHandler(),
    scale: new _scaleHandler.ScaleHandler(),
    drawPoint: new _drawPointHandler.DrawPointHandler(),
    drawLineString: new _drawLineStringHandler.DrawLineStringHandler(),
    drawPolygon: new _drawPolygonHandler.DrawPolygonHandler(),
    draw90DegreePolygon: new _draw90degreePolygonHandler.Draw90DegreePolygonHandler(),
    split: new _splitPolygonHandler.SplitPolygonHandler(),
    drawRectangle: new _drawRectangleHandler.DrawRectangleHandler(),
    drawRectangleUsing3Points: new _drawRectangleUsingThreePointsHandler.DrawRectangleUsingThreePointsHandler(),
    drawCircleFromCenter: new _drawCircleFromCenterHandler.DrawCircleFromCenterHandler(),
    drawCircleByBoundingBox: new _drawCircleByBoundingBoxHandler.DrawCircleByBoundingBoxHandler(),
    drawEllipseByBoundingBox: new _drawEllipseByBoundingBoxHandler.DrawEllipseByBoundingBoxHandler(),
    drawEllipseUsing3Points: new _drawEllipseUsingThreePointsHandler.DrawEllipseUsingThreePointsHandler()
  }
};

// type State = {
//   modeHandler: EditableFeatureCollection,
//   tentativeFeature: ?Feature,
//   editHandles: any[],
//   selectedFeatures: Feature[]
// };
var EditableGeoJsonLayer =
/*#__PURE__*/
function (_EditableLayer) {
  _inherits(EditableGeoJsonLayer, _EditableLayer);

  function EditableGeoJsonLayer() {
    _classCallCheck(this, EditableGeoJsonLayer);

    return _possibleConstructorReturn(this, _getPrototypeOf(EditableGeoJsonLayer).apply(this, arguments));
  }

  _createClass(EditableGeoJsonLayer, [{
    key: "renderLayers",
    // state: State;
    // props: Props;
    // setState: ($Shape<State>) => void;
    value: function renderLayers() {
      var subLayerProps = this.getSubLayerProps({
        id: 'geojson',
        // Proxy most GeoJsonLayer props as-is
        data: this.props.data,
        fp64: this.props.fp64,
        filled: this.props.filled,
        stroked: this.props.stroked,
        lineWidthScale: this.props.lineWidthScale,
        lineWidthMinPixels: this.props.lineWidthMinPixels,
        lineWidthMaxPixels: this.props.lineWidthMaxPixels,
        lineJointRounded: this.props.lineJointRounded,
        lineMiterLimit: this.props.lineMiterLimit,
        pointRadiusScale: this.props.pointRadiusScale,
        pointRadiusMinPixels: this.props.pointRadiusMinPixels,
        pointRadiusMaxPixels: this.props.pointRadiusMaxPixels,
        lineDashJustified: this.props.lineDashJustified,
        getLineColor: this.selectionAwareAccessor(this.props.getLineColor),
        getFillColor: this.selectionAwareAccessor(this.props.getFillColor),
        getRadius: this.selectionAwareAccessor(this.props.getRadius),
        getLineWidth: this.selectionAwareAccessor(this.props.getLineWidth),
        getLineDashArray: this.selectionAwareAccessor(this.props.getLineDashArray),
        updateTriggers: {
          getLineColor: [this.props.selectedFeatureIndexes, this.props.mode],
          getFillColor: [this.props.selectedFeatureIndexes, this.props.mode],
          getRadius: [this.props.selectedFeatureIndexes, this.props.mode],
          getLineWidth: [this.props.selectedFeatureIndexes, this.props.mode],
          getLineDashArray: [this.props.selectedFeatureIndexes, this.props.mode]
        }
      });
      var layers = [new _layers.GeoJsonLayer(subLayerProps)];
      layers = layers.concat(this.createTentativeLayers());
      layers = layers.concat(this.createEditHandleLayers());
      return layers;
    }
  }, {
    key: "initializeState",
    value: function initializeState() {
      _get(_getPrototypeOf(EditableGeoJsonLayer.prototype), "initializeState", this).call(this);

      this.setState({
        selectedFeatures: [],
        editHandles: []
      });
    } // TODO: figure out how to properly update state from an outside event handler

  }, {
    key: "shouldUpdateState",
    value: function shouldUpdateState(_ref) {
      var props = _ref.props,
          oldProps = _ref.oldProps,
          context = _ref.context,
          oldContext = _ref.oldContext,
          changeFlags = _ref.changeFlags;

      if (changeFlags.stateChanged) {
        return true;
      }

      return true;
    }
  }, {
    key: "updateState",
    value: function updateState(_ref2) {
      var props = _ref2.props,
          oldProps = _ref2.oldProps,
          changeFlags = _ref2.changeFlags;

      _get(_getPrototypeOf(EditableGeoJsonLayer.prototype), "updateState", this).call(this, {
        props: props,
        changeFlags: changeFlags
      });

      var modeHandler = this.state.modeHandler;

      if (changeFlags.propsOrDataChanged) {
        if (props.modeHandlers !== oldProps.modeHandlers || props.mode !== oldProps.mode) {
          modeHandler = props.modeHandlers[props.mode];

          if (!modeHandler) {
            console.warn("No handler configured for mode ".concat(props.mode)); // eslint-disable-line no-console,no-undef
            // Use default mode handler

            modeHandler = new _modeHandler.ModeHandler();
          }

          if (modeHandler !== this.state.modeHandler) {
            this.setState({
              modeHandler: modeHandler
            });
          }

          modeHandler.setFeatureCollection(props.data);
        } else if (changeFlags.dataChanged) {
          modeHandler.setFeatureCollection(props.data);
        }

        modeHandler.setModeConfig(props.modeConfig);
        modeHandler.setSelectedFeatureIndexes(props.selectedFeatureIndexes);
        modeHandler.setDeckGlContext(this.context);
        modeHandler.setLayerId(props.id);
        this.updateTentativeFeature();
        this.updateEditHandles();
      }

      var selectedFeatures = [];

      if (Array.isArray(props.selectedFeatureIndexes)) {
        // TODO: needs improved testing, i.e. checking for duplicates, NaNs, out of range numbers, ...
        selectedFeatures = props.selectedFeatureIndexes.map(function (elem) {
          return props.data.features[elem];
        });
      }

      this.setState({
        selectedFeatures: selectedFeatures
      });
    }
  }, {
    key: "selectionAwareAccessor",
    value: function selectionAwareAccessor(accessor) {
      var _this = this;

      if (typeof accessor !== 'function') {
        return accessor;
      }

      return function (feature) {
        return accessor(feature, _this.isFeatureSelected(feature), _this.props.mode);
      };
    }
  }, {
    key: "isFeatureSelected",
    value: function isFeatureSelected(feature) {
      if (!this.props.data || !this.props.selectedFeatureIndexes) {
        return false;
      }

      if (!this.props.selectedFeatureIndexes.length) {
        return false;
      }

      var featureIndex = this.props.data.features.indexOf(feature);
      return this.props.selectedFeatureIndexes.includes(featureIndex);
    }
  }, {
    key: "getPickingInfo",
    value: function getPickingInfo(_ref3) {
      var info = _ref3.info,
          sourceLayer = _ref3.sourceLayer;

      if (sourceLayer.id.endsWith('-edit-handles')) {
        // If user is picking an editing handle, add additional data to the info
        info.isEditingHandle = true;
      }

      return info;
    }
  }, {
    key: "createEditHandleLayers",
    value: function createEditHandleLayers() {
      if (!this.state.editHandles.length) {
        return [];
      }

      var sharedProps = _objectSpread({
        id: "".concat(this.props.editHandleType.layerName || this.props.editHandleType, "-edit-handles"),
        data: this.state.editHandles,
        fp64: this.props.fp64,
        parameters: this.props.editHandleParameters
      }, this.props.editHandleLayerProps);

      var layer;

      switch (this.props.editHandleType) {
        case 'icon':
          layer = new _layers.IconLayer(this.getSubLayerProps(_objectSpread({}, sharedProps, {
            iconAtlas: this.props.editHandleIconAtlas,
            iconMapping: this.props.editHandleIconMapping,
            sizeScale: this.props.editHandleIconSizeScale,
            getIcon: this.props.getEditHandleIcon,
            getSize: this.props.getEditHandleIconSize,
            getColor: this.props.getEditHandleIconColor,
            getAngle: this.props.getEditHandleIconAngle,
            getPosition: function getPosition(d) {
              return d.position;
            }
          })));
          break;

        case 'point':
          layer = new _layers.ScatterplotLayer(this.getSubLayerProps(_objectSpread({}, sharedProps, {
            // Proxy editing point props
            radiusScale: this.props.editHandlePointRadiusScale,
            outline: this.props.editHandlePointOutline,
            strokeWidth: this.props.editHandlePointStrokeWidth,
            radiusMinPixels: this.props.editHandlePointRadiusMinPixels,
            radiusMaxPixels: this.props.editHandlePointRadiusMaxPixels,
            getRadius: this.props.getEditHandlePointRadius,
            getColor: this.props.getEditHandlePointColor
          })));
          break;

        default:
          if (typeof this.props.editHandleType === 'function') {
            var EditHandleType = this.props.editHandleType;
            layer = new EditHandleType(this.getSubLayerProps(_objectSpread({}, sharedProps, {
              // Proxy editing point props
              radiusScale: this.props.editHandlePointRadiusScale,
              outline: this.props.editHandlePointOutline,
              strokeWidth: this.props.editHandlePointStrokeWidth,
              radiusMinPixels: this.props.editHandlePointRadiusMinPixels,
              radiusMaxPixels: this.props.editHandlePointRadiusMaxPixels,
              getRadius: this.props.getEditHandlePointRadius,
              getColor: this.props.getEditHandlePointColor
            })));
          }

          break;
      }

      return [layer];
    }
  }, {
    key: "createTentativeLayers",
    value: function createTentativeLayers() {
      var _this2 = this;

      if (!this.state.tentativeFeature) {
        return [];
      }

      var layer = new _layers.GeoJsonLayer(this.getSubLayerProps({
        id: 'tentative',
        data: this.state.tentativeFeature,
        fp64: this.props.fp64,
        pickable: false,
        stroked: true,
        autoHighlight: false,
        lineWidthScale: this.props.lineWidthScale,
        lineWidthMinPixels: this.props.lineWidthMinPixels,
        lineWidthMaxPixels: this.props.lineWidthMaxPixels,
        lineJointRounded: this.props.lineJointRounded,
        lineMiterLimit: this.props.lineMiterLimit,
        pointRadiusScale: this.props.editHandlePointRadiusScale,
        outline: this.props.editHandlePointOutline,
        strokeWidth: this.props.editHandlePointStrokeWidth,
        pointRadiusMinPixels: this.props.editHandlePointRadiusMinPixels,
        pointRadiusMaxPixels: this.props.editHandlePointRadiusMaxPixels,
        getRadius: this.props.getEditHandlePointRadius,
        getLineColor: function getLineColor(feature) {
          return _this2.props.getTentativeLineColor(feature, _this2.props.mode);
        },
        getLineWidth: function getLineWidth(feature) {
          return _this2.props.getTentativeLineWidth(feature, _this2.props.mode);
        },
        getFillColor: function getFillColor(feature) {
          return _this2.props.getTentativeFillColor(feature, _this2.props.mode);
        },
        getLineDashArray: function getLineDashArray(feature) {
          return _this2.props.getTentativeLineDashArray(feature, _this2.state.selectedFeatures[0], _this2.props.mode);
        }
      }));
      return [layer];
    }
  }, {
    key: "updateTentativeFeature",
    value: function updateTentativeFeature() {
      var tentativeFeature = this.state.modeHandler.getTentativeFeature();

      if (tentativeFeature !== this.state.tentativeFeature) {
        this.setState({
          tentativeFeature: tentativeFeature
        });
        this.setLayerNeedsUpdate();
      }
    }
  }, {
    key: "updateEditHandles",
    value: function updateEditHandles(picks, groundCoords) {
      var editHandles = this.state.modeHandler.getEditHandles(picks, groundCoords);

      if (editHandles !== this.state.editHandles) {
        this.setState({
          editHandles: editHandles
        });
        this.setLayerNeedsUpdate();
      }
    }
  }, {
    key: "onLayerClick",
    value: function onLayerClick(event) {
      var editAction = this.state.modeHandler.handleClick(event);
      this.updateTentativeFeature();
      this.updateEditHandles();

      if (editAction) {
        this.props.onEdit(editAction);
      }
    }
  }, {
    key: "onStartDragging",
    value: function onStartDragging(event) {
      var editAction = this.state.modeHandler.handleStartDragging(event);
      this.updateTentativeFeature();
      this.updateEditHandles();

      if (editAction) {
        this.props.onEdit(editAction);
      }
    }
  }, {
    key: "onStopDragging",
    value: function onStopDragging(event) {
      var editAction = this.state.modeHandler.handleStopDragging(event);
      this.updateTentativeFeature();
      this.updateEditHandles();

      if (editAction) {
        this.props.onEdit(editAction);
      }
    }
  }, {
    key: "onPointerMove",
    value: function onPointerMove(event) {
      var groundCoords = event.groundCoords,
          picks = event.picks,
          sourceEvent = event.sourceEvent;

      var _this$state$modeHandl = this.state.modeHandler.handlePointerMove(event),
          editAction = _this$state$modeHandl.editAction,
          cancelMapPan = _this$state$modeHandl.cancelMapPan;

      this.updateTentativeFeature();
      this.updateEditHandles(picks, groundCoords);

      if (cancelMapPan) {
        // TODO: find a less hacky way to prevent map panning
        // Stop propagation to prevent map panning while dragging an edit handle
        sourceEvent.stopPropagation();
      }

      if (editAction) {
        this.props.onEdit(editAction);
      }
    }
  }, {
    key: "getCursor",
    value: function getCursor(_ref4) {
      var isDragging = _ref4.isDragging;
      return this.state.modeHandler.getCursor({
        isDragging: isDragging
      });
    }
  }]);

  return EditableGeoJsonLayer;
}(_editableLayer.default);

exports.default = EditableGeoJsonLayer;
EditableGeoJsonLayer.layerName = 'EditableGeoJsonLayer';
EditableGeoJsonLayer.defaultProps = defaultProps;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sYXllcnMvZWRpdGFibGUtZ2VvanNvbi1sYXllci5qcyJdLCJuYW1lcyI6WyJERUZBVUxUX0xJTkVfQ09MT1IiLCJERUZBVUxUX0ZJTExfQ09MT1IiLCJERUZBVUxUX1NFTEVDVEVEX0xJTkVfQ09MT1IiLCJERUZBVUxUX1NFTEVDVEVEX0ZJTExfQ09MT1IiLCJERUZBVUxUX0VESVRJTkdfRVhJU1RJTkdfUE9JTlRfQ09MT1IiLCJERUZBVUxUX0VESVRJTkdfSU5URVJNRURJQVRFX1BPSU5UX0NPTE9SIiwiREVGQVVMVF9FRElUSU5HX1NOQVBfUE9JTlRfQ09MT1IiLCJERUZBVUxUX0VESVRJTkdfRVhJU1RJTkdfUE9JTlRfUkFESVVTIiwiREVGQVVMVF9FRElUSU5HX0lOVEVSTUVESUFURV9QT0lOVF9SQURJVVMiLCJERUZBVUxUX0VESVRJTkdfU05BUF9QT0lOVF9SQURJVVMiLCJnZXRFZGl0SGFuZGxlQ29sb3IiLCJoYW5kbGUiLCJ0eXBlIiwiZ2V0RWRpdEhhbmRsZVJhZGl1cyIsImRlZmF1bHRQcm9wcyIsIm1vZGUiLCJvbkVkaXQiLCJwaWNrYWJsZSIsImZwNjQiLCJmaWxsZWQiLCJzdHJva2VkIiwibGluZVdpZHRoU2NhbGUiLCJsaW5lV2lkdGhNaW5QaXhlbHMiLCJsaW5lV2lkdGhNYXhQaXhlbHMiLCJOdW1iZXIiLCJNQVhfU0FGRV9JTlRFR0VSIiwibGluZUpvaW50Um91bmRlZCIsImxpbmVNaXRlckxpbWl0IiwicG9pbnRSYWRpdXNTY2FsZSIsInBvaW50UmFkaXVzTWluUGl4ZWxzIiwicG9pbnRSYWRpdXNNYXhQaXhlbHMiLCJsaW5lRGFzaEp1c3RpZmllZCIsImdldExpbmVDb2xvciIsImZlYXR1cmUiLCJpc1NlbGVjdGVkIiwiZ2V0RmlsbENvbG9yIiwiZ2V0UmFkaXVzIiwiZiIsInByb3BlcnRpZXMiLCJyYWRpdXMiLCJzaXplIiwiZ2V0TGluZVdpZHRoIiwibGluZVdpZHRoIiwiZ2V0TGluZURhc2hBcnJheSIsImdldFRlbnRhdGl2ZUxpbmVEYXNoQXJyYXkiLCJnZXRUZW50YXRpdmVMaW5lQ29sb3IiLCJnZXRUZW50YXRpdmVGaWxsQ29sb3IiLCJnZXRUZW50YXRpdmVMaW5lV2lkdGgiLCJlZGl0SGFuZGxlVHlwZSIsImVkaXRIYW5kbGVQYXJhbWV0ZXJzIiwiZWRpdEhhbmRsZUxheWVyUHJvcHMiLCJlZGl0SGFuZGxlUG9pbnRSYWRpdXNTY2FsZSIsImVkaXRIYW5kbGVQb2ludE91dGxpbmUiLCJlZGl0SGFuZGxlUG9pbnRTdHJva2VXaWR0aCIsImVkaXRIYW5kbGVQb2ludFJhZGl1c01pblBpeGVscyIsImVkaXRIYW5kbGVQb2ludFJhZGl1c01heFBpeGVscyIsImdldEVkaXRIYW5kbGVQb2ludENvbG9yIiwiZ2V0RWRpdEhhbmRsZVBvaW50UmFkaXVzIiwiZWRpdEhhbmRsZUljb25BdGxhcyIsImVkaXRIYW5kbGVJY29uTWFwcGluZyIsImVkaXRIYW5kbGVJY29uU2l6ZVNjYWxlIiwiZ2V0RWRpdEhhbmRsZUljb24iLCJnZXRFZGl0SGFuZGxlSWNvblNpemUiLCJnZXRFZGl0SGFuZGxlSWNvbkNvbG9yIiwiZ2V0RWRpdEhhbmRsZUljb25BbmdsZSIsIm1vZGVIYW5kbGVycyIsInZpZXciLCJWaWV3SGFuZGxlciIsIm1vZGlmeSIsIk1vZGlmeUhhbmRsZXIiLCJlbGV2YXRpb24iLCJFbGV2YXRpb25IYW5kbGVyIiwiZXh0cnVkZSIsIkV4dHJ1ZGVIYW5kbGVyIiwicm90YXRlIiwiUm90YXRlSGFuZGxlciIsInRyYW5zbGF0ZSIsIlNuYXBwYWJsZUhhbmRsZXIiLCJUcmFuc2xhdGVIYW5kbGVyIiwiZHVwbGljYXRlIiwiRHVwbGljYXRlSGFuZGxlciIsInNjYWxlIiwiU2NhbGVIYW5kbGVyIiwiZHJhd1BvaW50IiwiRHJhd1BvaW50SGFuZGxlciIsImRyYXdMaW5lU3RyaW5nIiwiRHJhd0xpbmVTdHJpbmdIYW5kbGVyIiwiZHJhd1BvbHlnb24iLCJEcmF3UG9seWdvbkhhbmRsZXIiLCJkcmF3OTBEZWdyZWVQb2x5Z29uIiwiRHJhdzkwRGVncmVlUG9seWdvbkhhbmRsZXIiLCJzcGxpdCIsIlNwbGl0UG9seWdvbkhhbmRsZXIiLCJkcmF3UmVjdGFuZ2xlIiwiRHJhd1JlY3RhbmdsZUhhbmRsZXIiLCJkcmF3UmVjdGFuZ2xlVXNpbmczUG9pbnRzIiwiRHJhd1JlY3RhbmdsZVVzaW5nVGhyZWVQb2ludHNIYW5kbGVyIiwiZHJhd0NpcmNsZUZyb21DZW50ZXIiLCJEcmF3Q2lyY2xlRnJvbUNlbnRlckhhbmRsZXIiLCJkcmF3Q2lyY2xlQnlCb3VuZGluZ0JveCIsIkRyYXdDaXJjbGVCeUJvdW5kaW5nQm94SGFuZGxlciIsImRyYXdFbGxpcHNlQnlCb3VuZGluZ0JveCIsIkRyYXdFbGxpcHNlQnlCb3VuZGluZ0JveEhhbmRsZXIiLCJkcmF3RWxsaXBzZVVzaW5nM1BvaW50cyIsIkRyYXdFbGxpcHNlVXNpbmdUaHJlZVBvaW50c0hhbmRsZXIiLCJFZGl0YWJsZUdlb0pzb25MYXllciIsInN1YkxheWVyUHJvcHMiLCJnZXRTdWJMYXllclByb3BzIiwiaWQiLCJkYXRhIiwicHJvcHMiLCJzZWxlY3Rpb25Bd2FyZUFjY2Vzc29yIiwidXBkYXRlVHJpZ2dlcnMiLCJzZWxlY3RlZEZlYXR1cmVJbmRleGVzIiwibGF5ZXJzIiwiR2VvSnNvbkxheWVyIiwiY29uY2F0IiwiY3JlYXRlVGVudGF0aXZlTGF5ZXJzIiwiY3JlYXRlRWRpdEhhbmRsZUxheWVycyIsInNldFN0YXRlIiwic2VsZWN0ZWRGZWF0dXJlcyIsImVkaXRIYW5kbGVzIiwib2xkUHJvcHMiLCJjb250ZXh0Iiwib2xkQ29udGV4dCIsImNoYW5nZUZsYWdzIiwic3RhdGVDaGFuZ2VkIiwibW9kZUhhbmRsZXIiLCJzdGF0ZSIsInByb3BzT3JEYXRhQ2hhbmdlZCIsImNvbnNvbGUiLCJ3YXJuIiwiTW9kZUhhbmRsZXIiLCJzZXRGZWF0dXJlQ29sbGVjdGlvbiIsImRhdGFDaGFuZ2VkIiwic2V0TW9kZUNvbmZpZyIsIm1vZGVDb25maWciLCJzZXRTZWxlY3RlZEZlYXR1cmVJbmRleGVzIiwic2V0RGVja0dsQ29udGV4dCIsInNldExheWVySWQiLCJ1cGRhdGVUZW50YXRpdmVGZWF0dXJlIiwidXBkYXRlRWRpdEhhbmRsZXMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJlbGVtIiwiZmVhdHVyZXMiLCJhY2Nlc3NvciIsImlzRmVhdHVyZVNlbGVjdGVkIiwibGVuZ3RoIiwiZmVhdHVyZUluZGV4IiwiaW5kZXhPZiIsImluY2x1ZGVzIiwiaW5mbyIsInNvdXJjZUxheWVyIiwiZW5kc1dpdGgiLCJpc0VkaXRpbmdIYW5kbGUiLCJzaGFyZWRQcm9wcyIsImxheWVyTmFtZSIsInBhcmFtZXRlcnMiLCJsYXllciIsIkljb25MYXllciIsImljb25BdGxhcyIsImljb25NYXBwaW5nIiwic2l6ZVNjYWxlIiwiZ2V0SWNvbiIsImdldFNpemUiLCJnZXRDb2xvciIsImdldEFuZ2xlIiwiZ2V0UG9zaXRpb24iLCJkIiwicG9zaXRpb24iLCJTY2F0dGVycGxvdExheWVyIiwicmFkaXVzU2NhbGUiLCJvdXRsaW5lIiwic3Ryb2tlV2lkdGgiLCJyYWRpdXNNaW5QaXhlbHMiLCJyYWRpdXNNYXhQaXhlbHMiLCJFZGl0SGFuZGxlVHlwZSIsInRlbnRhdGl2ZUZlYXR1cmUiLCJhdXRvSGlnaGxpZ2h0IiwiZ2V0VGVudGF0aXZlRmVhdHVyZSIsInNldExheWVyTmVlZHNVcGRhdGUiLCJwaWNrcyIsImdyb3VuZENvb3JkcyIsImdldEVkaXRIYW5kbGVzIiwiZXZlbnQiLCJlZGl0QWN0aW9uIiwiaGFuZGxlQ2xpY2siLCJoYW5kbGVTdGFydERyYWdnaW5nIiwiaGFuZGxlU3RvcERyYWdnaW5nIiwic291cmNlRXZlbnQiLCJoYW5kbGVQb2ludGVyTW92ZSIsImNhbmNlbE1hcFBhbiIsInN0b3BQcm9wYWdhdGlvbiIsImlzRHJhZ2dpbmciLCJnZXRDdXJzb3IiLCJFZGl0YWJsZUxheWVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FB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QUdqQkEsWUFIaUI7O0FBSXJDLFdBQUtyRCxzQkFBTDtBQUNBLFdBQUtDLGlCQUFMLENBQXVCMEMsS0FBdkIsRUFBOEJDLFlBQTlCOztBQUVBLFVBQUlTLFlBQUosRUFBa0I7QUFDaEI7QUFDQTtBQUNBRixRQUFBQSxXQUFXLENBQUNHLGVBQVo7QUFDRDs7QUFFRCxVQUFJUCxVQUFKLEVBQWdCO0FBQ2QsYUFBSzdFLEtBQUwsQ0FBVzlGLE1BQVgsQ0FBa0IySyxVQUFsQjtBQUNEO0FBQ0Y7OztxQ0FFa0Q7QUFBQSxVQUF2Q1EsVUFBdUMsU0FBdkNBLFVBQXVDO0FBQ2pELGFBQU8sS0FBS25FLEtBQUwsQ0FBV0QsV0FBWCxDQUF1QnFFLFNBQXZCLENBQWlDO0FBQUVELFFBQUFBLFVBQVUsRUFBVkE7QUFBRixPQUFqQyxDQUFQO0FBQ0Q7Ozs7RUE5VCtDRSxzQjs7O0FBaVVsRDVGLG9CQUFvQixDQUFDcUQsU0FBckIsR0FBaUMsc0JBQWpDO0FBQ0FyRCxvQkFBb0IsQ0FBQzNGLFlBQXJCLEdBQW9DQSxZQUFwQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuaW1wb3J0IHsgR2VvSnNvbkxheWVyLCBTY2F0dGVycGxvdExheWVyLCBJY29uTGF5ZXIgfSBmcm9tICdAZGVjay5nbC9sYXllcnMnO1xuaW1wb3J0IHsgTW9kZUhhbmRsZXIgfSBmcm9tICcuLi9tb2RlLWhhbmRsZXJzL21vZGUtaGFuZGxlci5qcyc7XG5pbXBvcnQgeyBWaWV3SGFuZGxlciB9IGZyb20gJy4uL21vZGUtaGFuZGxlcnMvdmlldy1oYW5kbGVyLmpzJztcbmltcG9ydCB7IE1vZGlmeUhhbmRsZXIgfSBmcm9tICcuLi9tb2RlLWhhbmRsZXJzL21vZGlmeS1oYW5kbGVyLmpzJztcbmltcG9ydCB7IEVsZXZhdGlvbkhhbmRsZXIgfSBmcm9tICcuLi9tb2RlLWhhbmRsZXJzL2VsZXZhdGlvbi1oYW5kbGVyLmpzJztcbmltcG9ydCB7IFNuYXBwYWJsZUhhbmRsZXIgfSBmcm9tICcuLi9tb2RlLWhhbmRsZXJzL3NuYXBwYWJsZS1oYW5kbGVyLmpzJztcbmltcG9ydCB7IFRyYW5zbGF0ZUhhbmRsZXIgfSBmcm9tICcuLi9tb2RlLWhhbmRsZXJzL3RyYW5zbGF0ZS1oYW5kbGVyLmpzJztcbmltcG9ydCB7IER1cGxpY2F0ZUhhbmRsZXIgfSBmcm9tICcuLi9tb2RlLWhhbmRsZXJzL2R1cGxpY2F0ZS1oYW5kbGVyJztcbmltcG9ydCB7IFJvdGF0ZUhhbmRsZXIgfSBmcm9tICcuLi9tb2RlLWhhbmRsZXJzL3JvdGF0ZS1oYW5kbGVyLmpzJztcbmltcG9ydCB7IFNjYWxlSGFuZGxlciB9IGZyb20gJy4uL21vZGUtaGFuZGxlcnMvc2NhbGUtaGFuZGxlci5qcyc7XG5pbXBvcnQgeyBEcmF3UG9pbnRIYW5kbGVyIH0gZnJvbSAnLi4vbW9kZS1oYW5kbGVycy9kcmF3LXBvaW50LWhhbmRsZXIuanMnO1xuaW1wb3J0IHsgRHJhd0xpbmVTdHJpbmdIYW5kbGVyIH0gZnJvbSAnLi4vbW9kZS1oYW5kbGVycy9kcmF3LWxpbmUtc3RyaW5nLWhhbmRsZXIuanMnO1xuaW1wb3J0IHsgRHJhd1BvbHlnb25IYW5kbGVyIH0gZnJvbSAnLi4vbW9kZS1oYW5kbGVycy9kcmF3LXBvbHlnb24taGFuZGxlci5qcyc7XG5pbXBvcnQgeyBEcmF3OTBEZWdyZWVQb2x5Z29uSGFuZGxlciB9IGZyb20gJy4uL21vZGUtaGFuZGxlcnMvZHJhdy05MGRlZ3JlZS1wb2x5Z29uLWhhbmRsZXIuanMnO1xuaW1wb3J0IHsgRHJhd1JlY3RhbmdsZUhhbmRsZXIgfSBmcm9tICcuLi9tb2RlLWhhbmRsZXJzL2RyYXctcmVjdGFuZ2xlLWhhbmRsZXIuanMnO1xuaW1wb3J0IHsgU3BsaXRQb2x5Z29uSGFuZGxlciB9IGZyb20gJy4uL21vZGUtaGFuZGxlcnMvc3BsaXQtcG9seWdvbi1oYW5kbGVyLmpzJztcbmltcG9ydCB7IERyYXdSZWN0YW5nbGVVc2luZ1RocmVlUG9pbnRzSGFuZGxlciB9IGZyb20gJy4uL21vZGUtaGFuZGxlcnMvZHJhdy1yZWN0YW5nbGUtdXNpbmctdGhyZWUtcG9pbnRzLWhhbmRsZXIuanMnO1xuaW1wb3J0IHsgRHJhd0NpcmNsZUZyb21DZW50ZXJIYW5kbGVyIH0gZnJvbSAnLi4vbW9kZS1oYW5kbGVycy9kcmF3LWNpcmNsZS1mcm9tLWNlbnRlci1oYW5kbGVyLmpzJztcbmltcG9ydCB7IERyYXdDaXJjbGVCeUJvdW5kaW5nQm94SGFuZGxlciB9IGZyb20gJy4uL21vZGUtaGFuZGxlcnMvZHJhdy1jaXJjbGUtYnktYm91bmRpbmctYm94LWhhbmRsZXIuanMnO1xuaW1wb3J0IHsgRHJhd0VsbGlwc2VCeUJvdW5kaW5nQm94SGFuZGxlciB9IGZyb20gJy4uL21vZGUtaGFuZGxlcnMvZHJhdy1lbGxpcHNlLWJ5LWJvdW5kaW5nLWJveC1oYW5kbGVyLmpzJztcbmltcG9ydCB7IERyYXdFbGxpcHNlVXNpbmdUaHJlZVBvaW50c0hhbmRsZXIgfSBmcm9tICcuLi9tb2RlLWhhbmRsZXJzL2RyYXctZWxsaXBzZS11c2luZy10aHJlZS1wb2ludHMtaGFuZGxlci5qcyc7XG5cbmltcG9ydCB0eXBlIHsgRWRpdEFjdGlvbiB9IGZyb20gJy4uL21vZGUtaGFuZGxlcnMvbW9kZS1oYW5kbGVyLmpzJztcbmltcG9ydCB0eXBlIHsgUG9zaXRpb24gfSBmcm9tICcuLi9nZW9qc29uLXR5cGVzLmpzJztcbmltcG9ydCB0eXBlIHtcbiAgQ2xpY2tFdmVudCxcbiAgU3RhcnREcmFnZ2luZ0V2ZW50LFxuICBTdG9wRHJhZ2dpbmdFdmVudCxcbiAgUG9pbnRlck1vdmVFdmVudFxufSBmcm9tICcuLi9ldmVudC10eXBlcy5qcyc7XG5pbXBvcnQgeyBFeHRydWRlSGFuZGxlciB9IGZyb20gJy4uL21vZGUtaGFuZGxlcnMvZXh0cnVkZS1oYW5kbGVyLmpzJztcbmltcG9ydCBFZGl0YWJsZUxheWVyIGZyb20gJy4vZWRpdGFibGUtbGF5ZXIuanMnO1xuXG5jb25zdCBERUZBVUxUX0xJTkVfQ09MT1IgPSBbMHgwLCAweDAsIDB4MCwgMHhmZl07XG5jb25zdCBERUZBVUxUX0ZJTExfQ09MT1IgPSBbMHgwLCAweDAsIDB4MCwgMHg5MF07XG5jb25zdCBERUZBVUxUX1NFTEVDVEVEX0xJTkVfQ09MT1IgPSBbMHg5MCwgMHg5MCwgMHg5MCwgMHhmZl07XG5jb25zdCBERUZBVUxUX1NFTEVDVEVEX0ZJTExfQ09MT1IgPSBbMHg5MCwgMHg5MCwgMHg5MCwgMHg5MF07XG5jb25zdCBERUZBVUxUX0VESVRJTkdfRVhJU1RJTkdfUE9JTlRfQ09MT1IgPSBbMHhjMCwgMHgwLCAweDAsIDB4ZmZdO1xuY29uc3QgREVGQVVMVF9FRElUSU5HX0lOVEVSTUVESUFURV9QT0lOVF9DT0xPUiA9IFsweDAsIDB4MCwgMHgwLCAweDgwXTtcbmNvbnN0IERFRkFVTFRfRURJVElOR19TTkFQX1BPSU5UX0NPTE9SID0gWzB4N2MsIDB4MDAsIDB4YzAsIDB4ZmZdO1xuY29uc3QgREVGQVVMVF9FRElUSU5HX0VYSVNUSU5HX1BPSU5UX1JBRElVUyA9IDU7XG5jb25zdCBERUZBVUxUX0VESVRJTkdfSU5URVJNRURJQVRFX1BPSU5UX1JBRElVUyA9IDM7XG5jb25zdCBERUZBVUxUX0VESVRJTkdfU05BUF9QT0lOVF9SQURJVVMgPSA3O1xuXG5mdW5jdGlvbiBnZXRFZGl0SGFuZGxlQ29sb3IoaGFuZGxlKSB7XG4gIHN3aXRjaCAoaGFuZGxlLnR5cGUpIHtcbiAgICBjYXNlICdleGlzdGluZyc6XG4gICAgICByZXR1cm4gREVGQVVMVF9FRElUSU5HX0VYSVNUSU5HX1BPSU5UX0NPTE9SO1xuICAgIGNhc2UgJ3NuYXAnOlxuICAgICAgcmV0dXJuIERFRkFVTFRfRURJVElOR19TTkFQX1BPSU5UX0NPTE9SO1xuICAgIGNhc2UgJ2ludGVybWVkaWF0ZSc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBERUZBVUxUX0VESVRJTkdfSU5URVJNRURJQVRFX1BPSU5UX0NPTE9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEVkaXRIYW5kbGVSYWRpdXMoaGFuZGxlKSB7XG4gIHN3aXRjaCAoaGFuZGxlLnR5cGUpIHtcbiAgICBjYXNlICdleGlzdGluZyc6XG4gICAgICByZXR1cm4gREVGQVVMVF9FRElUSU5HX0VYSVNUSU5HX1BPSU5UX1JBRElVUztcbiAgICBjYXNlICdzbmFwJzpcbiAgICAgIHJldHVybiBERUZBVUxUX0VESVRJTkdfU05BUF9QT0lOVF9SQURJVVM7XG4gICAgY2FzZSAnaW50ZXJtZWRpYXRlJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIERFRkFVTFRfRURJVElOR19JTlRFUk1FRElBVEVfUE9JTlRfUkFESVVTO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgbW9kZTogJ21vZGlmeScsXG5cbiAgLy8gRWRpdCBhbmQgaW50ZXJhY3Rpb24gZXZlbnRzXG4gIG9uRWRpdDogKCkgPT4ge30sXG5cbiAgcGlja2FibGU6IHRydWUsXG4gIGZwNjQ6IGZhbHNlLFxuICBmaWxsZWQ6IHRydWUsXG4gIHN0cm9rZWQ6IHRydWUsXG4gIGxpbmVXaWR0aFNjYWxlOiAxLFxuICBsaW5lV2lkdGhNaW5QaXhlbHM6IDEsXG4gIGxpbmVXaWR0aE1heFBpeGVsczogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gIGxpbmVKb2ludFJvdW5kZWQ6IGZhbHNlLFxuICBsaW5lTWl0ZXJMaW1pdDogNCxcbiAgcG9pbnRSYWRpdXNTY2FsZTogMSxcbiAgcG9pbnRSYWRpdXNNaW5QaXhlbHM6IDIsXG4gIHBvaW50UmFkaXVzTWF4UGl4ZWxzOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgbGluZURhc2hKdXN0aWZpZWQ6IGZhbHNlLFxuICBnZXRMaW5lQ29sb3I6IChmZWF0dXJlLCBpc1NlbGVjdGVkLCBtb2RlKSA9PlxuICAgIGlzU2VsZWN0ZWQgPyBERUZBVUxUX1NFTEVDVEVEX0xJTkVfQ09MT1IgOiBERUZBVUxUX0xJTkVfQ09MT1IsXG4gIGdldEZpbGxDb2xvcjogKGZlYXR1cmUsIGlzU2VsZWN0ZWQsIG1vZGUpID0+XG4gICAgaXNTZWxlY3RlZCA/IERFRkFVTFRfU0VMRUNURURfRklMTF9DT0xPUiA6IERFRkFVTFRfRklMTF9DT0xPUixcbiAgZ2V0UmFkaXVzOiBmID0+XG4gICAgKGYgJiYgZi5wcm9wZXJ0aWVzICYmIGYucHJvcGVydGllcy5yYWRpdXMpIHx8IChmICYmIGYucHJvcGVydGllcyAmJiBmLnByb3BlcnRpZXMuc2l6ZSkgfHwgMSxcbiAgZ2V0TGluZVdpZHRoOiBmID0+IChmICYmIGYucHJvcGVydGllcyAmJiBmLnByb3BlcnRpZXMubGluZVdpZHRoKSB8fCAxLFxuICBnZXRMaW5lRGFzaEFycmF5OiAoZmVhdHVyZSwgaXNTZWxlY3RlZCwgbW9kZSkgPT5cbiAgICBpc1NlbGVjdGVkICYmIG1vZGUgIT09ICd2aWV3JyA/IFs3LCA0XSA6IFswLCAwXSxcblxuICAvLyBUZW50YXRpdmUgZmVhdHVyZSByZW5kZXJpbmdcbiAgZ2V0VGVudGF0aXZlTGluZURhc2hBcnJheTogKGYsIG1vZGUpID0+IFs3LCA0XSxcbiAgZ2V0VGVudGF0aXZlTGluZUNvbG9yOiAoZiwgbW9kZSkgPT4gREVGQVVMVF9TRUxFQ1RFRF9MSU5FX0NPTE9SLFxuICBnZXRUZW50YXRpdmVGaWxsQ29sb3I6IChmLCBtb2RlKSA9PiBERUZBVUxUX1NFTEVDVEVEX0ZJTExfQ09MT1IsXG4gIGdldFRlbnRhdGl2ZUxpbmVXaWR0aDogKGYsIG1vZGUpID0+IChmICYmIGYucHJvcGVydGllcyAmJiBmLnByb3BlcnRpZXMubGluZVdpZHRoKSB8fCAxLFxuXG4gIGVkaXRIYW5kbGVUeXBlOiAncG9pbnQnLFxuICBlZGl0SGFuZGxlUGFyYW1ldGVyczoge30sXG4gIGVkaXRIYW5kbGVMYXllclByb3BzOiB7fSxcblxuICAvLyBwb2ludCBoYW5kbGVzXG4gIGVkaXRIYW5kbGVQb2ludFJhZGl1c1NjYWxlOiAxLFxuICBlZGl0SGFuZGxlUG9pbnRPdXRsaW5lOiBmYWxzZSxcbiAgZWRpdEhhbmRsZVBvaW50U3Ryb2tlV2lkdGg6IDEsXG4gIGVkaXRIYW5kbGVQb2ludFJhZGl1c01pblBpeGVsczogNCxcbiAgZWRpdEhhbmRsZVBvaW50UmFkaXVzTWF4UGl4ZWxzOiA4LFxuICBnZXRFZGl0SGFuZGxlUG9pbnRDb2xvcjogZ2V0RWRpdEhhbmRsZUNvbG9yLFxuICBnZXRFZGl0SGFuZGxlUG9pbnRSYWRpdXM6IGdldEVkaXRIYW5kbGVSYWRpdXMsXG5cbiAgLy8gaWNvbiBoYW5kbGVzXG4gIGVkaXRIYW5kbGVJY29uQXRsYXM6IG51bGwsXG4gIGVkaXRIYW5kbGVJY29uTWFwcGluZzogbnVsbCxcbiAgZWRpdEhhbmRsZUljb25TaXplU2NhbGU6IDEsXG4gIGdldEVkaXRIYW5kbGVJY29uOiBoYW5kbGUgPT4gaGFuZGxlLnR5cGUsXG4gIGdldEVkaXRIYW5kbGVJY29uU2l6ZTogMTAsXG4gIGdldEVkaXRIYW5kbGVJY29uQ29sb3I6IGdldEVkaXRIYW5kbGVDb2xvcixcbiAgZ2V0RWRpdEhhbmRsZUljb25BbmdsZTogMCxcblxuICAvLyBNb2RlIGhhbmRsZXJzXG4gIG1vZGVIYW5kbGVyczoge1xuICAgIHZpZXc6IG5ldyBWaWV3SGFuZGxlcigpLFxuICAgIG1vZGlmeTogbmV3IE1vZGlmeUhhbmRsZXIoKSxcbiAgICBlbGV2YXRpb246IG5ldyBFbGV2YXRpb25IYW5kbGVyKCksXG4gICAgZXh0cnVkZTogbmV3IEV4dHJ1ZGVIYW5kbGVyKCksXG4gICAgcm90YXRlOiBuZXcgUm90YXRlSGFuZGxlcigpLFxuICAgIHRyYW5zbGF0ZTogbmV3IFNuYXBwYWJsZUhhbmRsZXIobmV3IFRyYW5zbGF0ZUhhbmRsZXIoKSksXG4gICAgZHVwbGljYXRlOiBuZXcgRHVwbGljYXRlSGFuZGxlcigpLFxuICAgIHNjYWxlOiBuZXcgU2NhbGVIYW5kbGVyKCksXG4gICAgZHJhd1BvaW50OiBuZXcgRHJhd1BvaW50SGFuZGxlcigpLFxuICAgIGRyYXdMaW5lU3RyaW5nOiBuZXcgRHJhd0xpbmVTdHJpbmdIYW5kbGVyKCksXG4gICAgZHJhd1BvbHlnb246IG5ldyBEcmF3UG9seWdvbkhhbmRsZXIoKSxcbiAgICBkcmF3OTBEZWdyZWVQb2x5Z29uOiBuZXcgRHJhdzkwRGVncmVlUG9seWdvbkhhbmRsZXIoKSxcbiAgICBzcGxpdDogbmV3IFNwbGl0UG9seWdvbkhhbmRsZXIoKSxcbiAgICBkcmF3UmVjdGFuZ2xlOiBuZXcgRHJhd1JlY3RhbmdsZUhhbmRsZXIoKSxcbiAgICBkcmF3UmVjdGFuZ2xlVXNpbmczUG9pbnRzOiBuZXcgRHJhd1JlY3RhbmdsZVVzaW5nVGhyZWVQb2ludHNIYW5kbGVyKCksXG4gICAgZHJhd0NpcmNsZUZyb21DZW50ZXI6IG5ldyBEcmF3Q2lyY2xlRnJvbUNlbnRlckhhbmRsZXIoKSxcbiAgICBkcmF3Q2lyY2xlQnlCb3VuZGluZ0JveDogbmV3IERyYXdDaXJjbGVCeUJvdW5kaW5nQm94SGFuZGxlcigpLFxuICAgIGRyYXdFbGxpcHNlQnlCb3VuZGluZ0JveDogbmV3IERyYXdFbGxpcHNlQnlCb3VuZGluZ0JveEhhbmRsZXIoKSxcbiAgICBkcmF3RWxsaXBzZVVzaW5nM1BvaW50czogbmV3IERyYXdFbGxpcHNlVXNpbmdUaHJlZVBvaW50c0hhbmRsZXIoKVxuICB9XG59O1xuXG50eXBlIFByb3BzID0ge1xuICBtb2RlOiBzdHJpbmcsXG4gIG1vZGVIYW5kbGVyczogeyBbbW9kZTogc3RyaW5nXTogTW9kZUhhbmRsZXIgfSxcbiAgb25FZGl0OiBFZGl0QWN0aW9uID0+IHZvaWQsXG4gIC8vIFRPRE86IHR5cGUgdGhlIHJlc3RcbiAgW3N0cmluZ106IGFueVxufTtcblxuLy8gdHlwZSBTdGF0ZSA9IHtcbi8vICAgbW9kZUhhbmRsZXI6IEVkaXRhYmxlRmVhdHVyZUNvbGxlY3Rpb24sXG4vLyAgIHRlbnRhdGl2ZUZlYXR1cmU6ID9GZWF0dXJlLFxuLy8gICBlZGl0SGFuZGxlczogYW55W10sXG4vLyAgIHNlbGVjdGVkRmVhdHVyZXM6IEZlYXR1cmVbXVxuLy8gfTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdGFibGVHZW9Kc29uTGF5ZXIgZXh0ZW5kcyBFZGl0YWJsZUxheWVyIHtcbiAgLy8gc3RhdGU6IFN0YXRlO1xuICAvLyBwcm9wczogUHJvcHM7XG4gIC8vIHNldFN0YXRlOiAoJFNoYXBlPFN0YXRlPikgPT4gdm9pZDtcblxuICByZW5kZXJMYXllcnMoKSB7XG4gICAgY29uc3Qgc3ViTGF5ZXJQcm9wcyA9IHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7XG4gICAgICBpZDogJ2dlb2pzb24nLFxuXG4gICAgICAvLyBQcm94eSBtb3N0IEdlb0pzb25MYXllciBwcm9wcyBhcy1pc1xuICAgICAgZGF0YTogdGhpcy5wcm9wcy5kYXRhLFxuICAgICAgZnA2NDogdGhpcy5wcm9wcy5mcDY0LFxuICAgICAgZmlsbGVkOiB0aGlzLnByb3BzLmZpbGxlZCxcbiAgICAgIHN0cm9rZWQ6IHRoaXMucHJvcHMuc3Ryb2tlZCxcbiAgICAgIGxpbmVXaWR0aFNjYWxlOiB0aGlzLnByb3BzLmxpbmVXaWR0aFNjYWxlLFxuICAgICAgbGluZVdpZHRoTWluUGl4ZWxzOiB0aGlzLnByb3BzLmxpbmVXaWR0aE1pblBpeGVscyxcbiAgICAgIGxpbmVXaWR0aE1heFBpeGVsczogdGhpcy5wcm9wcy5saW5lV2lkdGhNYXhQaXhlbHMsXG4gICAgICBsaW5lSm9pbnRSb3VuZGVkOiB0aGlzLnByb3BzLmxpbmVKb2ludFJvdW5kZWQsXG4gICAgICBsaW5lTWl0ZXJMaW1pdDogdGhpcy5wcm9wcy5saW5lTWl0ZXJMaW1pdCxcbiAgICAgIHBvaW50UmFkaXVzU2NhbGU6IHRoaXMucHJvcHMucG9pbnRSYWRpdXNTY2FsZSxcbiAgICAgIHBvaW50UmFkaXVzTWluUGl4ZWxzOiB0aGlzLnByb3BzLnBvaW50UmFkaXVzTWluUGl4ZWxzLFxuICAgICAgcG9pbnRSYWRpdXNNYXhQaXhlbHM6IHRoaXMucHJvcHMucG9pbnRSYWRpdXNNYXhQaXhlbHMsXG4gICAgICBsaW5lRGFzaEp1c3RpZmllZDogdGhpcy5wcm9wcy5saW5lRGFzaEp1c3RpZmllZCxcbiAgICAgIGdldExpbmVDb2xvcjogdGhpcy5zZWxlY3Rpb25Bd2FyZUFjY2Vzc29yKHRoaXMucHJvcHMuZ2V0TGluZUNvbG9yKSxcbiAgICAgIGdldEZpbGxDb2xvcjogdGhpcy5zZWxlY3Rpb25Bd2FyZUFjY2Vzc29yKHRoaXMucHJvcHMuZ2V0RmlsbENvbG9yKSxcbiAgICAgIGdldFJhZGl1czogdGhpcy5zZWxlY3Rpb25Bd2FyZUFjY2Vzc29yKHRoaXMucHJvcHMuZ2V0UmFkaXVzKSxcbiAgICAgIGdldExpbmVXaWR0aDogdGhpcy5zZWxlY3Rpb25Bd2FyZUFjY2Vzc29yKHRoaXMucHJvcHMuZ2V0TGluZVdpZHRoKSxcbiAgICAgIGdldExpbmVEYXNoQXJyYXk6IHRoaXMuc2VsZWN0aW9uQXdhcmVBY2Nlc3Nvcih0aGlzLnByb3BzLmdldExpbmVEYXNoQXJyYXkpLFxuXG4gICAgICB1cGRhdGVUcmlnZ2Vyczoge1xuICAgICAgICBnZXRMaW5lQ29sb3I6IFt0aGlzLnByb3BzLnNlbGVjdGVkRmVhdHVyZUluZGV4ZXMsIHRoaXMucHJvcHMubW9kZV0sXG4gICAgICAgIGdldEZpbGxDb2xvcjogW3RoaXMucHJvcHMuc2VsZWN0ZWRGZWF0dXJlSW5kZXhlcywgdGhpcy5wcm9wcy5tb2RlXSxcbiAgICAgICAgZ2V0UmFkaXVzOiBbdGhpcy5wcm9wcy5zZWxlY3RlZEZlYXR1cmVJbmRleGVzLCB0aGlzLnByb3BzLm1vZGVdLFxuICAgICAgICBnZXRMaW5lV2lkdGg6IFt0aGlzLnByb3BzLnNlbGVjdGVkRmVhdHVyZUluZGV4ZXMsIHRoaXMucHJvcHMubW9kZV0sXG4gICAgICAgIGdldExpbmVEYXNoQXJyYXk6IFt0aGlzLnByb3BzLnNlbGVjdGVkRmVhdHVyZUluZGV4ZXMsIHRoaXMucHJvcHMubW9kZV1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBsYXllcnM6IGFueSA9IFtuZXcgR2VvSnNvbkxheWVyKHN1YkxheWVyUHJvcHMpXTtcblxuICAgIGxheWVycyA9IGxheWVycy5jb25jYXQodGhpcy5jcmVhdGVUZW50YXRpdmVMYXllcnMoKSk7XG4gICAgbGF5ZXJzID0gbGF5ZXJzLmNvbmNhdCh0aGlzLmNyZWF0ZUVkaXRIYW5kbGVMYXllcnMoKSk7XG5cbiAgICByZXR1cm4gbGF5ZXJzO1xuICB9XG5cbiAgaW5pdGlhbGl6ZVN0YXRlKCkge1xuICAgIHN1cGVyLmluaXRpYWxpemVTdGF0ZSgpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWxlY3RlZEZlYXR1cmVzOiBbXSxcbiAgICAgIGVkaXRIYW5kbGVzOiBbXVxuICAgIH0pO1xuICB9XG5cbiAgLy8gVE9ETzogZmlndXJlIG91dCBob3cgdG8gcHJvcGVybHkgdXBkYXRlIHN0YXRlIGZyb20gYW4gb3V0c2lkZSBldmVudCBoYW5kbGVyXG4gIHNob3VsZFVwZGF0ZVN0YXRlKHsgcHJvcHMsIG9sZFByb3BzLCBjb250ZXh0LCBvbGRDb250ZXh0LCBjaGFuZ2VGbGFncyB9OiBPYmplY3QpIHtcbiAgICBpZiAoY2hhbmdlRmxhZ3Muc3RhdGVDaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB1cGRhdGVTdGF0ZSh7XG4gICAgcHJvcHMsXG4gICAgb2xkUHJvcHMsXG4gICAgY2hhbmdlRmxhZ3NcbiAgfToge1xuICAgIHByb3BzOiBQcm9wcyxcbiAgICBvbGRQcm9wczogUHJvcHMsXG4gICAgY2hhbmdlRmxhZ3M6IGFueVxuICB9KSB7XG4gICAgc3VwZXIudXBkYXRlU3RhdGUoeyBwcm9wcywgY2hhbmdlRmxhZ3MgfSk7XG5cbiAgICBsZXQgbW9kZUhhbmRsZXI6IE1vZGVIYW5kbGVyID0gdGhpcy5zdGF0ZS5tb2RlSGFuZGxlcjtcbiAgICBpZiAoY2hhbmdlRmxhZ3MucHJvcHNPckRhdGFDaGFuZ2VkKSB7XG4gICAgICBpZiAocHJvcHMubW9kZUhhbmRsZXJzICE9PSBvbGRQcm9wcy5tb2RlSGFuZGxlcnMgfHwgcHJvcHMubW9kZSAhPT0gb2xkUHJvcHMubW9kZSkge1xuICAgICAgICBtb2RlSGFuZGxlciA9IHByb3BzLm1vZGVIYW5kbGVyc1twcm9wcy5tb2RlXTtcblxuICAgICAgICBpZiAoIW1vZGVIYW5kbGVyKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBObyBoYW5kbGVyIGNvbmZpZ3VyZWQgZm9yIG1vZGUgJHtwcm9wcy5tb2RlfWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUsbm8tdW5kZWZcbiAgICAgICAgICAvLyBVc2UgZGVmYXVsdCBtb2RlIGhhbmRsZXJcbiAgICAgICAgICBtb2RlSGFuZGxlciA9IG5ldyBNb2RlSGFuZGxlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vZGVIYW5kbGVyICE9PSB0aGlzLnN0YXRlLm1vZGVIYW5kbGVyKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGVIYW5kbGVyIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9kZUhhbmRsZXIuc2V0RmVhdHVyZUNvbGxlY3Rpb24ocHJvcHMuZGF0YSk7XG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZUZsYWdzLmRhdGFDaGFuZ2VkKSB7XG4gICAgICAgIG1vZGVIYW5kbGVyLnNldEZlYXR1cmVDb2xsZWN0aW9uKHByb3BzLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICBtb2RlSGFuZGxlci5zZXRNb2RlQ29uZmlnKHByb3BzLm1vZGVDb25maWcpO1xuICAgICAgbW9kZUhhbmRsZXIuc2V0U2VsZWN0ZWRGZWF0dXJlSW5kZXhlcyhwcm9wcy5zZWxlY3RlZEZlYXR1cmVJbmRleGVzKTtcbiAgICAgIG1vZGVIYW5kbGVyLnNldERlY2tHbENvbnRleHQodGhpcy5jb250ZXh0KTtcbiAgICAgIG1vZGVIYW5kbGVyLnNldExheWVySWQocHJvcHMuaWQpO1xuICAgICAgdGhpcy51cGRhdGVUZW50YXRpdmVGZWF0dXJlKCk7XG4gICAgICB0aGlzLnVwZGF0ZUVkaXRIYW5kbGVzKCk7XG4gICAgfVxuXG4gICAgbGV0IHNlbGVjdGVkRmVhdHVyZXMgPSBbXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wcy5zZWxlY3RlZEZlYXR1cmVJbmRleGVzKSkge1xuICAgICAgLy8gVE9ETzogbmVlZHMgaW1wcm92ZWQgdGVzdGluZywgaS5lLiBjaGVja2luZyBmb3IgZHVwbGljYXRlcywgTmFOcywgb3V0IG9mIHJhbmdlIG51bWJlcnMsIC4uLlxuICAgICAgc2VsZWN0ZWRGZWF0dXJlcyA9IHByb3BzLnNlbGVjdGVkRmVhdHVyZUluZGV4ZXMubWFwKGVsZW0gPT4gcHJvcHMuZGF0YS5mZWF0dXJlc1tlbGVtXSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkRmVhdHVyZXMgfSk7XG4gIH1cblxuICBzZWxlY3Rpb25Bd2FyZUFjY2Vzc29yKGFjY2Vzc29yOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGFjY2Vzc29yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYWNjZXNzb3I7XG4gICAgfVxuICAgIHJldHVybiAoZmVhdHVyZTogT2JqZWN0KSA9PiBhY2Nlc3NvcihmZWF0dXJlLCB0aGlzLmlzRmVhdHVyZVNlbGVjdGVkKGZlYXR1cmUpLCB0aGlzLnByb3BzLm1vZGUpO1xuICB9XG5cbiAgaXNGZWF0dXJlU2VsZWN0ZWQoZmVhdHVyZTogT2JqZWN0KSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmRhdGEgfHwgIXRoaXMucHJvcHMuc2VsZWN0ZWRGZWF0dXJlSW5kZXhlcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMucHJvcHMuc2VsZWN0ZWRGZWF0dXJlSW5kZXhlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgZmVhdHVyZUluZGV4ID0gdGhpcy5wcm9wcy5kYXRhLmZlYXR1cmVzLmluZGV4T2YoZmVhdHVyZSk7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0ZWRGZWF0dXJlSW5kZXhlcy5pbmNsdWRlcyhmZWF0dXJlSW5kZXgpO1xuICB9XG5cbiAgZ2V0UGlja2luZ0luZm8oeyBpbmZvLCBzb3VyY2VMYXllciB9OiBPYmplY3QpIHtcbiAgICBpZiAoc291cmNlTGF5ZXIuaWQuZW5kc1dpdGgoJy1lZGl0LWhhbmRsZXMnKSkge1xuICAgICAgLy8gSWYgdXNlciBpcyBwaWNraW5nIGFuIGVkaXRpbmcgaGFuZGxlLCBhZGQgYWRkaXRpb25hbCBkYXRhIHRvIHRoZSBpbmZvXG4gICAgICBpbmZvLmlzRWRpdGluZ0hhbmRsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICBjcmVhdGVFZGl0SGFuZGxlTGF5ZXJzKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5lZGl0SGFuZGxlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBzaGFyZWRQcm9wcyA9IHtcbiAgICAgIGlkOiBgJHt0aGlzLnByb3BzLmVkaXRIYW5kbGVUeXBlLmxheWVyTmFtZSB8fCB0aGlzLnByb3BzLmVkaXRIYW5kbGVUeXBlfS1lZGl0LWhhbmRsZXNgLFxuICAgICAgZGF0YTogdGhpcy5zdGF0ZS5lZGl0SGFuZGxlcyxcbiAgICAgIGZwNjQ6IHRoaXMucHJvcHMuZnA2NCxcblxuICAgICAgcGFyYW1ldGVyczogdGhpcy5wcm9wcy5lZGl0SGFuZGxlUGFyYW1ldGVycyxcbiAgICAgIC4uLnRoaXMucHJvcHMuZWRpdEhhbmRsZUxheWVyUHJvcHNcbiAgICB9O1xuXG4gICAgbGV0IGxheWVyO1xuXG4gICAgc3dpdGNoICh0aGlzLnByb3BzLmVkaXRIYW5kbGVUeXBlKSB7XG4gICAgICBjYXNlICdpY29uJzpcbiAgICAgICAgbGF5ZXIgPSBuZXcgSWNvbkxheWVyKFxuICAgICAgICAgIHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7XG4gICAgICAgICAgICAuLi5zaGFyZWRQcm9wcyxcbiAgICAgICAgICAgIGljb25BdGxhczogdGhpcy5wcm9wcy5lZGl0SGFuZGxlSWNvbkF0bGFzLFxuICAgICAgICAgICAgaWNvbk1hcHBpbmc6IHRoaXMucHJvcHMuZWRpdEhhbmRsZUljb25NYXBwaW5nLFxuICAgICAgICAgICAgc2l6ZVNjYWxlOiB0aGlzLnByb3BzLmVkaXRIYW5kbGVJY29uU2l6ZVNjYWxlLFxuICAgICAgICAgICAgZ2V0SWNvbjogdGhpcy5wcm9wcy5nZXRFZGl0SGFuZGxlSWNvbixcbiAgICAgICAgICAgIGdldFNpemU6IHRoaXMucHJvcHMuZ2V0RWRpdEhhbmRsZUljb25TaXplLFxuICAgICAgICAgICAgZ2V0Q29sb3I6IHRoaXMucHJvcHMuZ2V0RWRpdEhhbmRsZUljb25Db2xvcixcbiAgICAgICAgICAgIGdldEFuZ2xlOiB0aGlzLnByb3BzLmdldEVkaXRIYW5kbGVJY29uQW5nbGUsXG5cbiAgICAgICAgICAgIGdldFBvc2l0aW9uOiBkID0+IGQucG9zaXRpb25cbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncG9pbnQnOlxuICAgICAgICBsYXllciA9IG5ldyBTY2F0dGVycGxvdExheWVyKFxuICAgICAgICAgIHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7XG4gICAgICAgICAgICAuLi5zaGFyZWRQcm9wcyxcblxuICAgICAgICAgICAgLy8gUHJveHkgZWRpdGluZyBwb2ludCBwcm9wc1xuICAgICAgICAgICAgcmFkaXVzU2NhbGU6IHRoaXMucHJvcHMuZWRpdEhhbmRsZVBvaW50UmFkaXVzU2NhbGUsXG4gICAgICAgICAgICBvdXRsaW5lOiB0aGlzLnByb3BzLmVkaXRIYW5kbGVQb2ludE91dGxpbmUsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogdGhpcy5wcm9wcy5lZGl0SGFuZGxlUG9pbnRTdHJva2VXaWR0aCxcbiAgICAgICAgICAgIHJhZGl1c01pblBpeGVsczogdGhpcy5wcm9wcy5lZGl0SGFuZGxlUG9pbnRSYWRpdXNNaW5QaXhlbHMsXG4gICAgICAgICAgICByYWRpdXNNYXhQaXhlbHM6IHRoaXMucHJvcHMuZWRpdEhhbmRsZVBvaW50UmFkaXVzTWF4UGl4ZWxzLFxuICAgICAgICAgICAgZ2V0UmFkaXVzOiB0aGlzLnByb3BzLmdldEVkaXRIYW5kbGVQb2ludFJhZGl1cyxcbiAgICAgICAgICAgIGdldENvbG9yOiB0aGlzLnByb3BzLmdldEVkaXRIYW5kbGVQb2ludENvbG9yXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5lZGl0SGFuZGxlVHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNvbnN0IEVkaXRIYW5kbGVUeXBlID0gdGhpcy5wcm9wcy5lZGl0SGFuZGxlVHlwZTtcbiAgICAgICAgICBsYXllciA9IG5ldyBFZGl0SGFuZGxlVHlwZShcbiAgICAgICAgICAgIHRoaXMuZ2V0U3ViTGF5ZXJQcm9wcyh7XG4gICAgICAgICAgICAgIC4uLnNoYXJlZFByb3BzLFxuXG4gICAgICAgICAgICAgIC8vIFByb3h5IGVkaXRpbmcgcG9pbnQgcHJvcHNcbiAgICAgICAgICAgICAgcmFkaXVzU2NhbGU6IHRoaXMucHJvcHMuZWRpdEhhbmRsZVBvaW50UmFkaXVzU2NhbGUsXG4gICAgICAgICAgICAgIG91dGxpbmU6IHRoaXMucHJvcHMuZWRpdEhhbmRsZVBvaW50T3V0bGluZSxcbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMucHJvcHMuZWRpdEhhbmRsZVBvaW50U3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICAgIHJhZGl1c01pblBpeGVsczogdGhpcy5wcm9wcy5lZGl0SGFuZGxlUG9pbnRSYWRpdXNNaW5QaXhlbHMsXG4gICAgICAgICAgICAgIHJhZGl1c01heFBpeGVsczogdGhpcy5wcm9wcy5lZGl0SGFuZGxlUG9pbnRSYWRpdXNNYXhQaXhlbHMsXG4gICAgICAgICAgICAgIGdldFJhZGl1czogdGhpcy5wcm9wcy5nZXRFZGl0SGFuZGxlUG9pbnRSYWRpdXMsXG4gICAgICAgICAgICAgIGdldENvbG9yOiB0aGlzLnByb3BzLmdldEVkaXRIYW5kbGVQb2ludENvbG9yXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtsYXllcl07XG4gIH1cblxuICBjcmVhdGVUZW50YXRpdmVMYXllcnMoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnRlbnRhdGl2ZUZlYXR1cmUpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXllciA9IG5ldyBHZW9Kc29uTGF5ZXIoXG4gICAgICB0aGlzLmdldFN1YkxheWVyUHJvcHMoe1xuICAgICAgICBpZDogJ3RlbnRhdGl2ZScsXG4gICAgICAgIGRhdGE6IHRoaXMuc3RhdGUudGVudGF0aXZlRmVhdHVyZSxcbiAgICAgICAgZnA2NDogdGhpcy5wcm9wcy5mcDY0LFxuICAgICAgICBwaWNrYWJsZTogZmFsc2UsXG4gICAgICAgIHN0cm9rZWQ6IHRydWUsXG4gICAgICAgIGF1dG9IaWdobGlnaHQ6IGZhbHNlLFxuICAgICAgICBsaW5lV2lkdGhTY2FsZTogdGhpcy5wcm9wcy5saW5lV2lkdGhTY2FsZSxcbiAgICAgICAgbGluZVdpZHRoTWluUGl4ZWxzOiB0aGlzLnByb3BzLmxpbmVXaWR0aE1pblBpeGVscyxcbiAgICAgICAgbGluZVdpZHRoTWF4UGl4ZWxzOiB0aGlzLnByb3BzLmxpbmVXaWR0aE1heFBpeGVscyxcbiAgICAgICAgbGluZUpvaW50Um91bmRlZDogdGhpcy5wcm9wcy5saW5lSm9pbnRSb3VuZGVkLFxuICAgICAgICBsaW5lTWl0ZXJMaW1pdDogdGhpcy5wcm9wcy5saW5lTWl0ZXJMaW1pdCxcbiAgICAgICAgcG9pbnRSYWRpdXNTY2FsZTogdGhpcy5wcm9wcy5lZGl0SGFuZGxlUG9pbnRSYWRpdXNTY2FsZSxcbiAgICAgICAgb3V0bGluZTogdGhpcy5wcm9wcy5lZGl0SGFuZGxlUG9pbnRPdXRsaW5lLFxuICAgICAgICBzdHJva2VXaWR0aDogdGhpcy5wcm9wcy5lZGl0SGFuZGxlUG9pbnRTdHJva2VXaWR0aCxcbiAgICAgICAgcG9pbnRSYWRpdXNNaW5QaXhlbHM6IHRoaXMucHJvcHMuZWRpdEhhbmRsZVBvaW50UmFkaXVzTWluUGl4ZWxzLFxuICAgICAgICBwb2ludFJhZGl1c01heFBpeGVsczogdGhpcy5wcm9wcy5lZGl0SGFuZGxlUG9pbnRSYWRpdXNNYXhQaXhlbHMsXG4gICAgICAgIGdldFJhZGl1czogdGhpcy5wcm9wcy5nZXRFZGl0SGFuZGxlUG9pbnRSYWRpdXMsXG4gICAgICAgIGdldExpbmVDb2xvcjogZmVhdHVyZSA9PiB0aGlzLnByb3BzLmdldFRlbnRhdGl2ZUxpbmVDb2xvcihmZWF0dXJlLCB0aGlzLnByb3BzLm1vZGUpLFxuICAgICAgICBnZXRMaW5lV2lkdGg6IGZlYXR1cmUgPT4gdGhpcy5wcm9wcy5nZXRUZW50YXRpdmVMaW5lV2lkdGgoZmVhdHVyZSwgdGhpcy5wcm9wcy5tb2RlKSxcbiAgICAgICAgZ2V0RmlsbENvbG9yOiBmZWF0dXJlID0+IHRoaXMucHJvcHMuZ2V0VGVudGF0aXZlRmlsbENvbG9yKGZlYXR1cmUsIHRoaXMucHJvcHMubW9kZSksXG4gICAgICAgIGdldExpbmVEYXNoQXJyYXk6IGZlYXR1cmUgPT5cbiAgICAgICAgICB0aGlzLnByb3BzLmdldFRlbnRhdGl2ZUxpbmVEYXNoQXJyYXkoXG4gICAgICAgICAgICBmZWF0dXJlLFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEZlYXR1cmVzWzBdLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tb2RlXG4gICAgICAgICAgKVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgcmV0dXJuIFtsYXllcl07XG4gIH1cblxuICB1cGRhdGVUZW50YXRpdmVGZWF0dXJlKCkge1xuICAgIGNvbnN0IHRlbnRhdGl2ZUZlYXR1cmUgPSB0aGlzLnN0YXRlLm1vZGVIYW5kbGVyLmdldFRlbnRhdGl2ZUZlYXR1cmUoKTtcbiAgICBpZiAodGVudGF0aXZlRmVhdHVyZSAhPT0gdGhpcy5zdGF0ZS50ZW50YXRpdmVGZWF0dXJlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdGVudGF0aXZlRmVhdHVyZSB9KTtcbiAgICAgIHRoaXMuc2V0TGF5ZXJOZWVkc1VwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUVkaXRIYW5kbGVzKHBpY2tzPzogQXJyYXk8T2JqZWN0PiwgZ3JvdW5kQ29vcmRzPzogUG9zaXRpb24pIHtcbiAgICBjb25zdCBlZGl0SGFuZGxlcyA9IHRoaXMuc3RhdGUubW9kZUhhbmRsZXIuZ2V0RWRpdEhhbmRsZXMocGlja3MsIGdyb3VuZENvb3Jkcyk7XG4gICAgaWYgKGVkaXRIYW5kbGVzICE9PSB0aGlzLnN0YXRlLmVkaXRIYW5kbGVzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZWRpdEhhbmRsZXMgfSk7XG4gICAgICB0aGlzLnNldExheWVyTmVlZHNVcGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICBvbkxheWVyQ2xpY2soZXZlbnQ6IENsaWNrRXZlbnQpIHtcbiAgICBjb25zdCBlZGl0QWN0aW9uID0gdGhpcy5zdGF0ZS5tb2RlSGFuZGxlci5oYW5kbGVDbGljayhldmVudCk7XG4gICAgdGhpcy51cGRhdGVUZW50YXRpdmVGZWF0dXJlKCk7XG4gICAgdGhpcy51cGRhdGVFZGl0SGFuZGxlcygpO1xuXG4gICAgaWYgKGVkaXRBY3Rpb24pIHtcbiAgICAgIHRoaXMucHJvcHMub25FZGl0KGVkaXRBY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIG9uU3RhcnREcmFnZ2luZyhldmVudDogU3RhcnREcmFnZ2luZ0V2ZW50KSB7XG4gICAgY29uc3QgZWRpdEFjdGlvbiA9IHRoaXMuc3RhdGUubW9kZUhhbmRsZXIuaGFuZGxlU3RhcnREcmFnZ2luZyhldmVudCk7XG4gICAgdGhpcy51cGRhdGVUZW50YXRpdmVGZWF0dXJlKCk7XG4gICAgdGhpcy51cGRhdGVFZGl0SGFuZGxlcygpO1xuXG4gICAgaWYgKGVkaXRBY3Rpb24pIHtcbiAgICAgIHRoaXMucHJvcHMub25FZGl0KGVkaXRBY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIG9uU3RvcERyYWdnaW5nKGV2ZW50OiBTdG9wRHJhZ2dpbmdFdmVudCkge1xuICAgIGNvbnN0IGVkaXRBY3Rpb24gPSB0aGlzLnN0YXRlLm1vZGVIYW5kbGVyLmhhbmRsZVN0b3BEcmFnZ2luZyhldmVudCk7XG4gICAgdGhpcy51cGRhdGVUZW50YXRpdmVGZWF0dXJlKCk7XG4gICAgdGhpcy51cGRhdGVFZGl0SGFuZGxlcygpO1xuXG4gICAgaWYgKGVkaXRBY3Rpb24pIHtcbiAgICAgIHRoaXMucHJvcHMub25FZGl0KGVkaXRBY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpIHtcbiAgICBjb25zdCB7IGdyb3VuZENvb3JkcywgcGlja3MsIHNvdXJjZUV2ZW50IH0gPSBldmVudDtcblxuICAgIGNvbnN0IHsgZWRpdEFjdGlvbiwgY2FuY2VsTWFwUGFuIH0gPSB0aGlzLnN0YXRlLm1vZGVIYW5kbGVyLmhhbmRsZVBvaW50ZXJNb3ZlKGV2ZW50KTtcbiAgICB0aGlzLnVwZGF0ZVRlbnRhdGl2ZUZlYXR1cmUoKTtcbiAgICB0aGlzLnVwZGF0ZUVkaXRIYW5kbGVzKHBpY2tzLCBncm91bmRDb29yZHMpO1xuXG4gICAgaWYgKGNhbmNlbE1hcFBhbikge1xuICAgICAgLy8gVE9ETzogZmluZCBhIGxlc3MgaGFja3kgd2F5IHRvIHByZXZlbnQgbWFwIHBhbm5pbmdcbiAgICAgIC8vIFN0b3AgcHJvcGFnYXRpb24gdG8gcHJldmVudCBtYXAgcGFubmluZyB3aGlsZSBkcmFnZ2luZyBhbiBlZGl0IGhhbmRsZVxuICAgICAgc291cmNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYgKGVkaXRBY3Rpb24pIHtcbiAgICAgIHRoaXMucHJvcHMub25FZGl0KGVkaXRBY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGdldEN1cnNvcih7IGlzRHJhZ2dpbmcgfTogeyBpc0RyYWdnaW5nOiBib29sZWFuIH0pIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tb2RlSGFuZGxlci5nZXRDdXJzb3IoeyBpc0RyYWdnaW5nIH0pO1xuICB9XG59XG5cbkVkaXRhYmxlR2VvSnNvbkxheWVyLmxheWVyTmFtZSA9ICdFZGl0YWJsZUdlb0pzb25MYXllcic7XG5FZGl0YWJsZUdlb0pzb25MYXllci5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG4iXX0=